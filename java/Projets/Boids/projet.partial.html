_include(header,mytitle=Projet Boids)

  <div class="w3-display-container w3-center">
    <img src="Images/slide.jpg" style="max-width:800px; width:100%; height:60%;" title="https://www.piqsels.com/en/public-domain-photo-zvqbp/download">
  </div>

   <div %div%>
    <h1 class="w3-wide">Les Boids : une population en voie de disparition?</h1>
  </div>

  <div %div%>
    <h2 class="w3-opacity">Introduction</h2>
     <div class="w3-panel w3-light-grey">
      <span style="font-size:150px;line-height:0.6em;opacity:0.2">&#10077;</span>
      <p class="w3-large w3-justify" style="margin-top:-40px">
      <i>"Boids est le nom d'un programme informatique de vie artificielle, développé par Craig W. Reynolds en 1986, simulant le comportement d'une nuée d'oiseaux en vol. Le mot *boid* est par ailleurs une contraction de *bird-oid* (qui a la forme d'un oiseau)."</i></p>
      <p>Source : <a href="https://fr.wikipedia.org/wiki/Boids">https://fr.wikipedia.org/wiki/Boids#cite_note-1</a></p>
    </div> 
    <p %p%>Le but de ce projet est de créer une simulation de Boids dans un espace 2D dans le langage de programmation Java et la librairie Swing pour la partie graphique. A travers ce projet, nous allons découvrir le langage java sur ces différents aspects comme la notion de classe et d'objets, l'encapsulation des données, l'héritage, le polymorphisme et plein d'autres choses. Nous aurons besoin de plusieurs étapes pour simuler une population de Boids. </p>
    <p %p%>Tout d'abord dans la partie I, nous allons nous concentrer sur un seul Boid avec un comportement unique qui bouge tout seul (le pauvre!) dans un espace 2D fermé. Durant cette partie, on va se familiariser avec la notion de classe et d'objet ainsi qu'un des aspects fondamentaux qui est l'encapsulation des données. On va créer notre première classe et manipuler ses attributs, ses méthodes, etc...</p>
    <p %p%>Durant les autres parties, nous aborderons d'autres étapes comme la mise en œuvre graphique du mouvement du Boid, la simulation d'une foule de Boids et la création d'autres Boids.</p>
    <p %p%>Avant de commencer, voici un exemple sur internet : </p>
    <iframe width="420" height="315"src="https://www.youtube.com/embed/QbUPfMXXQIY"></iframe>
  </div>

  <div %div%>
    <h2 class="w3-opacity">Analyse et construction d'un Boid</h2>
    <h3 class="w3-opacity">Créer sa première classe Vector2</h3>
    _include(fiche_requise,elements=_include(fiche_requise_item,address=%java_cours%/objets_et_classes.html,label=Objets et Classes)_include(fiche_requise_item,address=%java_cours%/accesseurs.html,label=Accesseurs)_include(fiche_requise_item,address=%java_cours%/visibilite.html,label=Visibilité))
    <p %p%>Avant de considérer tout l'aspect graphique du simulateur, nous allons d'abord nous intéresser à certains rouages à mettre en place. Pour commencer, un Boid doit pouvoir se déplacer dans un espace 2D, ce qui signifie que chacun doit avoir une position dans ce même espace. Mais avant de créer une classe pour position, nous avons besoin d'un objet mathématique permettant de décrire des coordonnées 2D. </p>
    <p %p%><span class="w3-badge w3-green">a</span> Ecrire une classe appelée <span class="w3-codespan">Vector2</span> qui contient deux attributs de type <span class="w3-codespan">float</span> appelés <span class="w3-codespan">x</span> et <span class="w3-codespan">y</span> qui n'ont pas de contraintes particulières sur les valeurs qu'on peut leur assigner.</p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">b</span> Ecrire un premier constructeur de la classe <span class="w3-codespan">Vector2</span> qui prend deux paramètres <span class="w3-codespan">x</span> et <span class="w3-codespan">y</span> qui sont assignés aux attributs de la classe <span class="w3-codespan">Vector2</span>. </p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">c</span> Ecrire un second constructeur de la classe <span class="w3-codespan">Vector2</span> qui ne prend pas de paramètre en entrée et qui initialise une valeur par défaut à <span class="w3-codespan">x</span> et <span class="w3-codespan">y</span>, soit la valeur <span class="w3-codespan">0f</span>.</p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">d</span> Ecrire les accesseurs <span class="w3-codespan">setX</span>, <span class="w3-codespan">getX</span>, <span class="w3-codespan">setY</span>, <span class="w3-codespan">getY</span>  </p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">e</span> Dans la fonction main (créer une nouvelle classe contenant la fonction main), créer deux <span class="w3-codespan">Vector2</span> en utilisant les deux constructeurs. Afficher les attributs des deux objets.</p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">f</span> Toujours dans la fonction main, attribuer de nouvelles valeurs aux coordonnées des deux objets en utilisant leurs accesseurs. </p>
    _include(attention,content={Il faut utiliser la bonne visibilité.})

    <h3 class="w3-opacity">La position et le déplacement d'un boid</h3>
    _include(fiche_requise,elements=_include(fiche_requise_item,address=%java_cours%/afficher_des_objets.html,label=Afficher des objets))
    <p %p%>Tu viens de créer une nouvelle classe Vector2. Nous allons utiliser cette classe afin d'en créer deux nouvelles : <span class="w3-codespan">Position</span> et <span class="w3-codespan">Displacement</span>. Ces deux classes vont servir plus tard pour définir la position d'un boid dans un espace 2D et son déplacement.      
    </p>
    <p %p%><span class="w3-badge w3-green">a</span> Ecrire une classe appelée <span class="w3-codespan">Position</span> qui contient un attribut de type <span class="w3-codespan">Vector2</span> appelé <span class="w3-codespan">coordinates</span> qui n'a pas de contrainte particulière.</p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">b</span> Ecrire un premier constructeur de la classe <span class="w3-codespan">Position</span> qui prend un paramètre de type <span class="w3-codespan">Vector2</span> et qui est assigné à l'attribut <span class="w3-codespan">coordinates</span>.</p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">c</span> Ecrire un second constructeur de la classe <span class="w3-codespan">Position</span> qui ne prend pas de paramètre en entrée et qui initialise une valeur par défaut à <span class="w3-codespan">coordinates</span> soit la valeur <span class="w3-codespan">Vector2(0f, 0f)</span>.</p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">d</span> Ecrire les accesseurs <span class="w3-codespan">setCoordinates</span> et <span class="w3-codespan">getCoordinates</span></p>
    <p class="w3-justify w3-large"><span class="w3-badge w3-green">e</span> Dans la fonction main, créer deux objets <span class="w3-codespan">Position</span> en utilisant les deux constructeurs que tu viens d'écrire, celui avec deux paramètres et celui sans paramètre.</p>
    <p %p%><span class="w3-badge w3-green">f</span> Ecrire la méthode <span class="w3-codespan">ToString()</span> de la classe <span class="w3-codespan">Vector2</span> affichant par exemple : "(x, y)" avec x et y des valeurs. </p>
    <p %p%><span class="w3-badge w3-green">g</span> Ecrire la méthode <span class="w3-codespan">ToString()</span> de la classe <span class="w3-codespan">Position</span> affichant son attribut <span class="w3-codespan">coordinates</span>.</p>
    _include(attention,content={Tu peux réutiliser l'appel de <span class="w3-codespan">ToString()</span> de la classe <span class="w3-codespan">Vector2</span>})
    <p %p%><span class="w3-badge w3-green">h</span> Affiche les deux positions que tu as créees dans la fonction main.</p>
    <p %p%><span class="w3-badge w3-green">i</span> De la même façon que pour la classe <span class="w3-codespan">Position</span>, créer une classe <span class="w3-codespan">Displacement</span></p>

    <h3 class="w3-opacity">Vole petit boid!! Enfin... affiche toi sur mon écran</h3>
    _include(fiche_requise,elements=_include(fiche_requise_item,address=%java_cours%/tableaux.html,label=Tableaux et parcours))
    <p %p%>Des nouvelles classes sont disponibles <a href="https://github.com/chtimy/Cours/tree/master/java/Projets/Boids/code" alt="https://github.com/chtimy/Cours/tree/master/java/Projets/Boids/code">ici</a> afin de pouvoir afficher des polygones à l'écran. Parmi ces nouvelles classes nous avons : </p>
    <ul %ul%>
      <li><span class="w3-codespan">PainterWindow</span> : représente une fenêtre encapsulant une surface pour dessiner des objets 2D</li>
      <li><span class="w3-codespan">Drawer</span> : représente une sorte de pinceau permettant de dessiner des polygones</li>
    </ul>
    <p %p%>
      Une autre classe appelée <span class="w3-codespan">Demo</span> contient la méthode <span class="w3-codespan">main</span>. Une première étape d'initialisation avant la boucle <span class="w3-codespan">while</span> va créer une nouvelle fenêtre <span class="w3-codespan">PainterWindow</span> en lui passant un nouveau pinceau de type <span class="w3-codespan">Drawer</span>. L'étape suivante, dans la boucle <span class="w3-codespan">while</span> qui est infinie correspond à l'étape de mise à jour du dessin. Elle permet de dessiner différents objets et de les faire évoluer au cours du temps (comme le déplacement d'un boid par exemple). Deux triangles sont dessinés en exemple. Ensuite la méthode <span class="w3-codespan">repaint</span> de la classe <span class="w3-codespan">Drawer</span> efface le dessin de la boucle précédente pour dessiner les nouvelles formes géométriques (les deux triangles dessinés au dessus). 
      Pour dessiner un polygone, on fait appelle à la méthode <span class="w3-codespan">drawPolygon</span> qui prend en paramètres :
    </p>
      <ul %ul%>
        <li>un tableau de coordonnées x (le x de chaque sommet du polygone)</li>
        <li>un tableau de coordonnées y (le y de chaque sommet du polygone)</li>
        <li>le nombre de sommets à dessiner (3 pour un triangle)</li>
      </ul>
    <p %p%>
      Avant la fin de la boucle <span class="w3-codespan">while</span>, un bloc <span class="w3-codespan">try-catch</span> apparaît, celui-ci permet de faire dormir la boucle pendant 1000/60 millisecondes, soit une fréquence de 60 images par secondes).
    </p>
    <p %p%>
      Tout le code pour créer des boids, les afficher et les animer va se trouver dans la méthode <span class="w3-codespan">main</span> de la classe <span class="w3-codespan">Demo</span>.
    </p>
    <p %p%>
      <span class="w3-badge w3-green">a</span> Ecrire une classe appelée <span class="w3-codespan">TriangleShape</span> qui contient 3 attributs de type <span class="w3-codespan">Position</span> appelés <span class="w3-codespan">p1</span>, <span class="w3-codespan">p2</span> et <span class="w3-codespan">p3</span> qui représentent les 3 sommets d'un triangle. En plus des positions, cette classe contient un autre attribut appelée <span class="w3-codespan">color</span> de type <span class="w3-codespan">int</span> représentant une couleur sous sa forme hexadécimale. Exemple, la couleur rouge est représentée par <span class="w3-codespan">0xff0000</span>
    </p>
    _include(notes,content={Pour obtenir les couleurs en représentation hexadécimale, voir le site web suivant : <a href="https://htmlcolorcodes.com/fr/" alt="https://htmlcolorcodes.com/fr/">htmlcolorcodes.com</a>})

    <p %p%>
      <span class="w3-badge w3-green">b</span>Ajouter à la classe un constructeur prenant en entrée 3 positions et une couleur. Attention de bien faire une <strong>copie</strong> de ces positions en entrée pour les affecter aux attributs <span class="w3-codespan">p1</span>, <span class="w3-codespan">p2</span> et <span class="w3-codespan">p3</span>.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">c</span> Ajouter un accesseur <span class="w3-codespan">getXPoints</span> qui retourne un tableau représentant les coordonnées de x de tous les points. Faire de même avec une classe appelée <span class="w3-codespan">getYPoints</span> pour les coordonnées y.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">d</span> Ajouter un accesseur <span class="w3-codespan">getColor</span> qui retourne la valeur de l'attribut <span class="w3-codespan">color</span>.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">e</span> Ajouter une méthode <span class="w3-codespan">toString</span> qui retourne un <span class="w3-codespan">String</span> qui affiche la position des sommets du triangle et sa couleur. Il faut penser à réutiliser la méthode <span class="w3-codespan">toString</span> déjà écrite de la classe <span class="w3-codespan">Position</span>.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">f</span> Créer une nouvelle classe appelée <span class="w3-codespan">Boid</span>. Elle contient une position de type <span class="w3-codespan">Position</span> et une forme de type <span class="w3-codespan">TriangleShape</span>.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">g</span> Ajouter un constructeur qui prend en entrée une forme et une position.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">h</span> Ajouter un accesseur <span class="w3-codespan">getPosition</span> qui retourne la position du boid.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">i</span> Ajouter un accesseur <span class="w3-codespan">getShape</span> qui retourne la forme du boid.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">j</span> Ajouter une méthode <span class="w3-codespan">toString</span> qui retourne un <span class="w3-codespan">String</span> qui affiche la position et sa forme. Il faut penser à réutiliser les méthodes <span class="w3-codespan">toString</span> déjà écrites.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">k</span> Dans la classe <span class="w3-codespan">Demo</span>, dans la méthode <span class="w3-codespan">main</span>, avant la boucle infinie, créer un nouvelle forme <span class="w3-codespan">TriangleShape</span> avec les sommets (0, 0), (-5, 10), (5, 10) et une couleur rouge.
    </p>

    <p %p%>
      <span class="w3-badge w3-green">l</span>Créer un nouveau <span class="w3-codespan">Boid</span> avant la boucle infinie à partir de la forme déclarée précédemment avec une position de (500, 500). Ensuite dessiner un polygone dans la boucle à partir de la forme du boid et de sa position.
    </p>

    
  </div>

  <div %div%>
    <h2 class="w3-opacity">Reste pas planté là! Bouges!</h2>
    <p %p%>
      <span class="w3-badge w3-green">a</span> Ajouter une méthode <span class="w3-codespan">translate</span> qui prend en entrée un objet de type <span class="w3-codespan">Displacement</span> et qui va modifier la position du boid en ajoutant le déplacement.
    </p>
    <p %p%>
      <span class="w3-badge w3-green">b</span> Dans la méthode <span class="w3-codespan">main</span>, appliquer une translation de 0.5 en x au <span class="w3-codespan">Boid</span> à chaque boucle de dessin.
    </p>
  <div %div%>
    <h2 class="w3-opacity">Regardes où tu vas!</h2>
    <p %p%>
      On souhaite maintenant que l'orientation du boid corresponde à l'orientation de sa trajectoire (lorsque le boid a subit une translation). En d'autres mots, si le boid bouge vers le bas, il faut qu'il regarde vers le bas. 
    </p>
    <p %p%>
      Réorienter le boid se fait en deux étapes:
    </p>
    <ul %ul%>
      <li>Trouver la rotation du boid par rapport à son orientation initiale en fonction de son déplacement</li>
      <li>Appliquer la rotation au moment du dessin du boid</li>
    </ul>
    <p %p%>
      Pour calculer la rotation du boid, il va falloir calculer l'angle entre deux vecteurs, le vecteur correspondant à l'orientation initiale du boid à sa création et l'orientation courante du boid après déplacement. Voilà un résumé des formules qu'il va falloir implémenter pour ces exercices.
    </p>
    <img %img% src="Images\formules.png"/>
    <p %p%>
      <span class="w3-badge w3-green">a</span> Afin de préparer au mieux le calcul d'angle entre deux vecteurs, on aura donc besoin de formules préliminaires à implémenter. Premièrement, on veut que les deux vecteurs représentant l'orientation initiale et courante du boid soient normalisées, c'est à dire que la longueur de leur vecteur soit égale à 1. Sur l'image au dessus, çà correspond à la formule de normalisation d'un vecteur u.<br/>
      Implémenter d'abord la méthode <code>length</code> qui calcule et renvoie la longueur du vecteur lui-même. Pour calculer la racine carré d'un nombre, on peut utiliser la méthode appelée <code>sqrt</code> issue directement de la librairie standard <code>Math</code> de Java dont sa signature est <code>float sqrt(float x)</code>.
    </p>
    _include(notes,content={<p %p%>Importer au début du fichier de la classe <code>Vector</code> la librairie Math, comme dans le code suivant:</p><div id='write'  class=''><pre class="md-fences md-end-block ty-contain-cm modeLoaded md-focus" spellcheck="false" lang="java"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap CodeMirror-focused" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 193px; left: 11.9219px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code CodeMirror-crosshair" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-keyword">static</span> <span class="cm-variable">java</span>.<span class="cm-variable">lang</span>.<span class="cm-variable">Math</span>.<span class="cm-operator">*</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp=""></span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">MyClass</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span class="cm-variable">main</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">args</span>[]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">float</span> <span class="cm-variable">a</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"Racine carré de a : "</span> <span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-variable">sqrt</span>(<span class="cm-variable">a</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 208px;"></div><div class="CodeMirror-gutters" style="display: none; height: 208px;"></div></div></div></pre></div>})
    <p %p%>
      <span class="w3-badge w3-green">b</span> Implémenter la méthode <code>normalize</code> dans la classe <code>Vector</code> qui normalise le vecteur lui-même (ses coordonnées).
    </p>
    _include(notes,content={Penser à réutiliser la méthode <code>length</code> pour le calcul de normalisation.})
    <p %p%>
      <span class="w3-badge w3-green">b</span> Ensuite nous avons besoin de connaitre le produit scalaire entre deux vecteurs.<br/>
      Ecrire la méthode <code>dot</code> (un produit scalaire s'écrit avec un '.' entre deux vecteurs, d'où le nom "dot") qui prend en entrée un autre <code>Vector</code> et qui fait le calcul du produit scalaire entre le <code>Vector</code> lui-même et le <code>Vector</code> en entrée. Cette méthode retourne une valeur de type <code>float</code>.
    </p>
    <p %p%>
      <span class="w3-badge w3-green">c</span> Nous arrivons à la dernière étape du calcul de l'angle entre deux vecteurs qui correspond à la formule en rouge dans l'image au dessus. A gauche du '=' est la valeur de l'angle que l'on cherche qui se calcule grâce à la formule à droite du '=', c'est à dire <i>arccos(u.v)</i>. Il n'y a pas besoin d'implémenter le calcul <i>arccos</i> d'une valeur, cette fonction existe déjà dans la librairie standard <code>Math</code> de Java et dont sa signature est <code>float arccos(float x)</code>.<br/>
      Ecrire la méthode <code>angleWith</code> qui prend en entrée un <code>Vector</code> et qui calcule l'angle entre le <code>Vector</code> lui-même et le <code>Vector</code> en entrée. Cette méthode retourne une valeur correspondante à l'angle entre les deux <code>Vector</code> de type <code>float</code>.
    </p>
    _include(notes,content={<p %p%>Exemple d'utilisation de la fonction <code>arccos</code>:</p><div id='write'  class=''><pre class="md-fences md-end-block ty-contain-cm modeLoaded md-focus" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-keyword">static</span> <span class="cm-variable">java</span>.<span class="cm-variable">lang</span>.<span class="cm-variable">Math</span>.<span class="cm-operator">*</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp=""></span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">MyClass</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span class="cm-variable">main</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">args</span>[]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">float</span> <span class="cm-variable">a</span> <span class="cm-operator">=</span> <span class="cm-number">0f</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"Arccos de a : "</span> <span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-variable">acos</span>(<span class="cm-variable">a</span>)); <span class="cm-comment">// Correspond à l'angle Pi/2 en radians, soit 90°</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">float</span> <span class="cm-variable">b</span> <span class="cm-operator">=</span> <span class="cm-number">1f</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"Arccos de b : "</span> <span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-variable">acos</span>(<span class="cm-variable">b</span>)); <span class="cm-comment">// Correspond à l'angle 0 en radians, soit 0°</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">float</span> <span class="cm-variable">c</span> <span class="cm-operator">=</span> <span class="cm-number">0.5f</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"Arccos de c : "</span> <span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-variable">acos</span>(<span class="cm-variable">c</span>)); <span class="cm-comment">// Correspond à l'angle Pi/3 en radians, soit 60°</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 364px;"></div><div class="CodeMirror-gutters" style="display: none; height: 364px;"></div></div></div></pre></div>})
    <p %p%>
      <span class="w3-badge w3-green">d</span> L'orientation du boid à son état initiale correspond au <code>Vector</code> de valeur <code>(1,0)</code>. Ecrire un attribut dans la classe <code>Boid</code> appelé <code>initialOrientation</code> qui est de type <code>Vector</code> et qui a pour valeur <code>(1,0)</code>.
    </p>
    <p %p%>
      <span class="w3-badge w3-green">e</span>
      Le boid a également une orientation courante dépendant de ses déplacements. Ajouter un autre attribut à la classe <code>Boid</code> de type <code>Vector</code> appelé <code>orientation</code> et qui, à l'initialisation du boid, prend la valeur de <code>initialOrientation</code>. 
    </p>
    <p %p%>
      <span class="w3-badge w3-green">f</span>
      Lorsque le boid se déplace, il doit mettre à jour son orientation courante. Modifier la méthode <code>translate</code> de telle façon à mettre à jour son <code>orientation</code> en fonction des paramètres d'entrée correspondant à la translation du boid. 
    </p>
    _include(notes,content={L'orientation du boid correspond au vecteur normalisé du vecteur translation. Exemple, si le boid se déplace de (2,1), alors son orientation sera la normalisation de (2,1), soit (0.89, 0.45).<br/><img %img% src="Images/orientation.png"/>})
    <p %p%>
      <span class="w3-badge w3-green">g</span> Au moment du dessin du boid, on considère que son <code>orientation</code> a été mise à jour. Le dessin du boid est réalisé en utilisant la méthode <code>getShape</code>. Dans cette méthode, la translation a déjà été réalisée sur les points de la forme du boid. Mais il va également falloir appliquer la rotation sur la forme du boid pour qu'elle s'aligne avec son déplacement. <strong>Avant</strong> d'appliquer la translation sur chacun des points de la forme du boid, appliquer la rotation. La rotation d'un vecteur est expliqué dans l'image en début de ces exercices à partir de l'angle calculé entre le <code>Vector initialOrientation</code> et le <code>Vector orientation</code>.
    </p>
  </div>
</body>
</html>
